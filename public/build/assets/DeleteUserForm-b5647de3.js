import{r as s,R as p,b as Se,a as m,j as N,u as ke}from"./app-4a4380f8.js";import{T as Ae,I as Ne}from"./TextInput-e5335127.js";import{I as Ie}from"./InputLabel-8a690e30.js";import{o as x,V as $,y as D,b as ee,u as M,d as Me,X as T,t as te,f as me,l as W,T as Le,c as ge,j as se,a as Oe,p as ue,m as Be,K as G}from"./transition-7c15a2e8.js";import{n as q,b as je,g as U,c as Y,d as I,h as X,s as K,a as re,S as F,N as He,f as Ue,I as L,L as Ye,o as Ve,r as We}from"./use-event-listener-7055201f.js";function he(e,n){let t=s.useRef([]),o=x(e);s.useEffect(()=>{let r=[...t.current];for(let[i,a]of n.entries())if(t.current[i]!==a){let l=o(n,r);return t.current=n,l}},[o,...n])}let qe="div";var ve=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(ve||{});let B=Object.assign($(function(e,n){let t=s.useRef(null),o=D(t,n),{initialFocus:r,containers:i,features:a=30,...l}=e;ee()||(a=1);let d=q(t);_e({ownerDocument:d},Boolean(a&16));let c=ze({ownerDocument:d,container:t,initialFocus:r},Boolean(a&2));Ge({ownerDocument:d,container:t,containers:i,previousActiveElement:c},Boolean(a&8));let u=je(),g=x(w=>{let b=t.current;b&&(C=>C())(()=>{M(u.current,{[U.Forwards]:()=>{Y(b,I.First,{skipElements:[w.relatedTarget]})},[U.Backwards]:()=>{Y(b,I.Last,{skipElements:[w.relatedTarget]})}})})}),v=Me(),f=s.useRef(!1),O={ref:o,onKeyDown(w){w.key=="Tab"&&(f.current=!0,v.requestAnimationFrame(()=>{f.current=!1}))},onBlur(w){let b=new Set(i==null?void 0:i.current);b.add(t);let C=w.relatedTarget;C instanceof HTMLElement&&C.dataset.headlessuiFocusGuard!=="true"&&(ye(b,C)||(f.current?Y(t.current,M(u.current,{[U.Forwards]:()=>I.Next,[U.Backwards]:()=>I.Previous})|I.WrapAround,{relativeTo:w.target}):w.target instanceof HTMLElement&&F(w.target)))}};return p.createElement(p.Fragment,null,Boolean(a&4)&&p.createElement(X,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:K.Focusable}),T({ourProps:O,theirProps:l,defaultTag:qe,name:"FocusTrap"}),Boolean(a&4)&&p.createElement(X,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:K.Focusable}))}),{features:ve});function _e({ownerDocument:e},n){let t=s.useRef(null);re(e==null?void 0:e.defaultView,"focusout",r=>{!n||t.current||(t.current=r.target)},!0),he(()=>{n||((e==null?void 0:e.activeElement)===(e==null?void 0:e.body)&&F(t.current),t.current=null)},[n]);let o=s.useRef(!1);s.useEffect(()=>(o.current=!1,()=>{o.current=!0,te(()=>{!o.current||(F(t.current),t.current=null)})}),[])}function ze({ownerDocument:e,container:n,initialFocus:t},o){let r=s.useRef(null),i=me();return he(()=>{if(!o)return;let a=n.current;!a||te(()=>{if(!i.current)return;let l=e==null?void 0:e.activeElement;if(t!=null&&t.current){if((t==null?void 0:t.current)===l){r.current=l;return}}else if(a.contains(l)){r.current=l;return}t!=null&&t.current?F(t.current):Y(a,I.First)===He.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),r.current=e==null?void 0:e.activeElement})},[o]),r}function Ge({ownerDocument:e,container:n,containers:t,previousActiveElement:o},r){let i=me();re(e==null?void 0:e.defaultView,"focus",a=>{if(!r||!i.current)return;let l=new Set(t==null?void 0:t.current);l.add(n);let d=o.current;if(!d)return;let c=a.target;c&&c instanceof HTMLElement?ye(l,c)?(o.current=c,F(c)):(a.preventDefault(),a.stopPropagation(),F(d)):F(o.current)},!0)}function ye(e,n){var t;for(let o of e)if((t=o.current)!=null&&t.contains(n))return!0;return!1}let A=new Set,P=new Map;function ce(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function de(e){let n=P.get(e);!n||(n["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert)}function Xe(e,n=!0){W(()=>{if(!n||!e.current)return;let t=e.current,o=Ue(t);if(o){A.add(t);for(let r of P.keys())r.contains(t)&&(de(r),P.delete(r));return o.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement){for(let i of A)if(r.contains(i))return;A.size===1&&(P.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),ce(r))}}),()=>{if(A.delete(t),A.size>0)o.querySelectorAll("body > *").forEach(r=>{if(r instanceof HTMLElement&&!P.has(r)){for(let i of A)if(r.contains(i))return;P.set(r,{"aria-hidden":r.getAttribute("aria-hidden"),inert:r.inert}),ce(r)}});else for(let r of P.keys())de(r),P.delete(r)}}},[n])}let we=s.createContext(!1);function Ke(){return s.useContext(we)}function Q(e){return p.createElement(we.Provider,{value:e.force},e.children)}function Qe(e){let n=Ke(),t=s.useContext(be),o=q(e),[r,i]=s.useState(()=>{if(!n&&t!==null||ge.isServer)return null;let a=o==null?void 0:o.getElementById("headlessui-portal-root");if(a)return a;if(o===null)return null;let l=o.createElement("div");return l.setAttribute("id","headlessui-portal-root"),o.body.appendChild(l)});return s.useEffect(()=>{r!==null&&(o!=null&&o.body.contains(r)||o==null||o.body.appendChild(r))},[r,o]),s.useEffect(()=>{n||t!==null&&i(t.current)},[t,i,n]),r}let Je=s.Fragment,Ze=$(function(e,n){let t=e,o=s.useRef(null),r=D(Le(u=>{o.current=u}),n),i=q(o),a=Qe(o),[l]=s.useState(()=>{var u;return ge.isServer?null:(u=i==null?void 0:i.createElement("div"))!=null?u:null}),d=ee(),c=s.useRef(!1);return W(()=>{if(c.current=!1,!(!a||!l))return a.contains(l)||(l.setAttribute("data-headlessui-portal",""),a.appendChild(l)),()=>{c.current=!0,te(()=>{var u;!c.current||!a||!l||(l instanceof Node&&a.contains(l)&&a.removeChild(l),a.childNodes.length<=0&&((u=a.parentElement)==null||u.removeChild(a)))})}},[a,l]),d?!a||!l?null:Se.createPortal(T({ourProps:{ref:r},theirProps:t,defaultTag:Je,name:"Portal"}),l):null}),et=s.Fragment,be=s.createContext(null),tt=$(function(e,n){let{target:t,...o}=e,r={ref:D(n)};return p.createElement(be.Provider,{value:t},T({ourProps:r,theirProps:o,defaultTag:et,name:"Popover.Group"}))}),J=Object.assign(Ze,{Group:tt}),Ee=s.createContext(null);function xe(){let e=s.useContext(Ee);if(e===null){let n=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,xe),n}return e}function rt(){let[e,n]=s.useState([]);return[e.length>0?e.join(" "):void 0,s.useMemo(()=>function(t){let o=x(i=>(n(a=>[...a,i]),()=>n(a=>{let l=a.slice(),d=l.indexOf(i);return d!==-1&&l.splice(d,1),l}))),r=s.useMemo(()=>({register:o,slot:t.slot,name:t.name,props:t.props}),[o,t.slot,t.name,t.props]);return p.createElement(Ee.Provider,{value:r},t.children)},[n])]}let nt="p",ot=$(function(e,n){let t=L(),{id:o=`headlessui-description-${t}`,...r}=e,i=xe(),a=D(n);W(()=>i.register(o),[o,i.register]);let l={ref:a,...i.props,id:o};return T({ourProps:l,theirProps:r,slot:i.slot||{},defaultTag:nt,name:i.name||"Description"})}),ne=s.createContext(()=>{});ne.displayName="StackContext";var Z=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Z||{});function at(){return s.useContext(ne)}function lt({children:e,onUpdate:n,type:t,element:o,enabled:r}){let i=at(),a=x((...l)=>{n==null||n(...l),i(...l)});return W(()=>{let l=r===void 0||r===!0;return l&&a(0,t,o),()=>{l&&a(1,t,o)}},[a,t,o,r]),p.createElement(ne.Provider,{value:a},e)}function it(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var st=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(st||{}),ut=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(ut||{});let ct={[0](e,n){return e.titleId===n.id?e:{...e,titleId:n.id}}},V=s.createContext(null);V.displayName="DialogContext";function j(e){let n=s.useContext(V);if(n===null){let t=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,j),t}return n}function dt(e,n,t=()=>[document.body]){s.useEffect(()=>{var o;if(!n||!e)return;let r=Be(),i=window.pageYOffset;function a(c,u,g){let v=c.style.getPropertyValue(u);return Object.assign(c.style,{[u]:g}),r.add(()=>{Object.assign(c.style,{[u]:v})})}let l=e.documentElement,d=((o=e.defaultView)!=null?o:window).innerWidth-l.clientWidth;if(a(l,"overflow","hidden"),d>0){let c=l.clientWidth-l.offsetWidth,u=d-c;a(l,"paddingRight",`${u}px`)}if(it()){a(e.body,"marginTop",`-${i}px`),window.scrollTo(0,0);let c=null;r.addEventListener(e,"click",u=>{if(u.target instanceof HTMLElement)try{let g=u.target.closest("a");if(!g)return;let{hash:v}=new URL(g.href),f=e.querySelector(v);f&&!t().some(O=>O.contains(f))&&(c=f)}catch{}},!0),r.addEventListener(e,"touchmove",u=>{u.target instanceof HTMLElement&&!t().some(g=>g.contains(u.target))&&u.preventDefault()},{passive:!1}),r.add(()=>{window.scrollTo(0,window.pageYOffset+i),c&&c.isConnected&&(c.scrollIntoView({block:"nearest"}),c=null)})}return r.dispose},[e,n])}function ft(e,n){return M(n.type,ct,e,n)}let pt="div",mt=se.RenderStrategy|se.Static,gt=$(function(e,n){let t=L(),{id:o=`headlessui-dialog-${t}`,open:r,onClose:i,initialFocus:a,__demoMode:l=!1,...d}=e,[c,u]=s.useState(0),g=Oe();r===void 0&&g!==null&&(r=M(g,{[ue.Open]:!0,[ue.Closed]:!1}));let v=s.useRef(new Set),f=s.useRef(null),O=D(f,n),w=s.useRef(null),b=q(f),C=e.hasOwnProperty("open")||g!==null,oe=e.hasOwnProperty("onClose");if(!C&&!oe)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!C)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!oe)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof r!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${r}`);if(typeof i!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let E=r?0:1,[R,$e]=s.useReducer(ft,{titleId:null,descriptionId:null,panelRef:s.createRef()}),S=x(()=>i(!1)),ae=x(h=>$e({type:0,id:h})),_=ee()?l?!1:E===0:!1,H=c>1,De=s.useContext(V)!==null,Te=H?"parent":"leaf";Xe(f,H?_:!1);let le=x(()=>{var h,k;return[...Array.from((h=b==null?void 0:b.querySelectorAll("html > *, body > *, [data-headlessui-portal]"))!=null?h:[]).filter(y=>!(y===document.body||y===document.head||!(y instanceof HTMLElement)||y.contains(w.current)||R.panelRef.current&&y.contains(R.panelRef.current))),(k=R.panelRef.current)!=null?k:f.current]});Ye(()=>le(),S,_&&!H),re(b==null?void 0:b.defaultView,"keydown",h=>{h.defaultPrevented||h.key===Ve.Escape&&E===0&&(H||(h.preventDefault(),h.stopPropagation(),S()))}),dt(b,E===0&&!De,le),s.useEffect(()=>{if(E!==0||!f.current)return;let h=new IntersectionObserver(k=>{for(let y of k)y.boundingClientRect.x===0&&y.boundingClientRect.y===0&&y.boundingClientRect.width===0&&y.boundingClientRect.height===0&&S()});return h.observe(f.current),()=>h.disconnect()},[E,f,S]);let[Ce,Pe]=rt(),Fe=s.useMemo(()=>[{dialogState:E,close:S,setTitleId:ae},R],[E,R,S,ae]),ie=s.useMemo(()=>({open:E===0}),[E]),Re={ref:O,id:o,role:"dialog","aria-modal":E===0?!0:void 0,"aria-labelledby":R.titleId,"aria-describedby":Ce};return p.createElement(lt,{type:"Dialog",enabled:E===0,element:f,onUpdate:x((h,k,y)=>{k==="Dialog"&&M(h,{[Z.Add](){v.current.add(y),u(z=>z+1)},[Z.Remove](){v.current.add(y),u(z=>z-1)}})})},p.createElement(Q,{force:!0},p.createElement(J,null,p.createElement(V.Provider,{value:Fe},p.createElement(J.Group,{target:f},p.createElement(Q,{force:!1},p.createElement(Pe,{slot:ie,name:"Dialog.Description"},p.createElement(B,{initialFocus:a,containers:v,features:_?M(Te,{parent:B.features.RestoreFocus,leaf:B.features.All&~B.features.FocusLock}):B.features.None},T({ourProps:Re,theirProps:d,slot:ie,defaultTag:pt,features:mt,visible:E===0,name:"Dialog"})))))))),p.createElement(X,{features:K.Hidden,ref:w}))}),ht="div",vt=$(function(e,n){let t=L(),{id:o=`headlessui-dialog-overlay-${t}`,...r}=e,[{dialogState:i,close:a}]=j("Dialog.Overlay"),l=D(n),d=x(u=>{if(u.target===u.currentTarget){if(We(u.currentTarget))return u.preventDefault();u.preventDefault(),u.stopPropagation(),a()}}),c=s.useMemo(()=>({open:i===0}),[i]);return T({ourProps:{ref:l,id:o,"aria-hidden":!0,onClick:d},theirProps:r,slot:c,defaultTag:ht,name:"Dialog.Overlay"})}),yt="div",wt=$(function(e,n){let t=L(),{id:o=`headlessui-dialog-backdrop-${t}`,...r}=e,[{dialogState:i},a]=j("Dialog.Backdrop"),l=D(n);s.useEffect(()=>{if(a.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[a.panelRef]);let d=s.useMemo(()=>({open:i===0}),[i]);return p.createElement(Q,{force:!0},p.createElement(J,null,T({ourProps:{ref:l,id:o,"aria-hidden":!0},theirProps:r,slot:d,defaultTag:yt,name:"Dialog.Backdrop"})))}),bt="div",Et=$(function(e,n){let t=L(),{id:o=`headlessui-dialog-panel-${t}`,...r}=e,[{dialogState:i},a]=j("Dialog.Panel"),l=D(n,a.panelRef),d=s.useMemo(()=>({open:i===0}),[i]),c=x(u=>{u.stopPropagation()});return T({ourProps:{ref:l,id:o,onClick:c},theirProps:r,slot:d,defaultTag:bt,name:"Dialog.Panel"})}),xt="h2",$t=$(function(e,n){let t=L(),{id:o=`headlessui-dialog-title-${t}`,...r}=e,[{dialogState:i,setTitleId:a}]=j("Dialog.Title"),l=D(n);s.useEffect(()=>(a(o),()=>a(null)),[o,a]);let d=s.useMemo(()=>({open:i===0}),[i]);return T({ourProps:{ref:l,id:o},theirProps:r,slot:d,defaultTag:xt,name:"Dialog.Title"})}),fe=Object.assign(gt,{Backdrop:wt,Panel:Et,Overlay:vt,Title:$t,Description:ot});function pe({type:e="submit",className:n="",processing:t,children:o,onClick:r}){return m("button",{type:e,onClick:r,className:`inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150 ${t&&"opacity-25"} `+n,disabled:t,children:o})}function Dt({children:e,show:n=!1,maxWidth:t="2xl",closeable:o=!0,onClose:r=()=>{}}){const i=()=>{o&&r()},a={sm:"sm:max-w-sm",md:"sm:max-w-md",lg:"sm:max-w-lg",xl:"sm:max-w-xl","2xl":"sm:max-w-2xl"}[t];return m(G,{show:n,as:s.Fragment,leave:"duration-200",children:N(fe,{as:"div",id:"modal",className:"fixed inset-0 flex overflow-y-auto px-4 py-6 sm:px-0 items-center z-50 transform transition-all",onClose:i,children:[m(G.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m("div",{className:"absolute inset-0 bg-gray-500/75"})}),m(G.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:m(fe.Panel,{className:`mb-6 bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:w-full sm:mx-auto ${a}`,children:e})})]})})}function Tt({type:e="button",className:n="",processing:t,children:o,onClick:r}){return m("button",{type:e,onClick:r,className:`inline-flex items-center px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150 ${t&&"opacity-25"} `+n,disabled:t,children:o})}function kt({className:e}){const[n,t]=s.useState(!1),o=s.useRef(),{data:r,setData:i,delete:a,processing:l,reset:d,errors:c}=ke({password:""}),u=()=>{t(!0)},g=f=>{f.preventDefault(),a(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>v(),onError:()=>o.current.focus(),onFinish:()=>d()})},v=()=>{t(!1),d()};return N("section",{className:`space-y-6 ${e}`,children:[N("header",{children:[m("h2",{className:"text-lg font-medium text-gray-900",children:"Delete Account"}),m("p",{className:"mt-1 text-sm text-gray-600",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Before deleting your account, please download any data or information that you wish to retain."})]}),m(pe,{onClick:u,children:"Delete Account"}),m(Dt,{show:n,onClose:v,children:N("form",{onSubmit:g,className:"p-6",children:[m("h2",{className:"text-lg font-medium text-gray-900",children:"Are you sure you want to delete your account?"}),m("p",{className:"mt-1 text-sm text-gray-600",children:"Once your account is deleted, all of its resources and data will be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),N("div",{className:"mt-6",children:[m(Ie,{for:"password",value:"Password",className:"sr-only"}),m(Ae,{id:"password",type:"password",name:"password",ref:o,value:r.password,handleChange:f=>i("password",f.target.value),className:"mt-1 block w-3/4",isFocused:!0,placeholder:"Password"}),m(Ne,{message:c.password,className:"mt-2"})]}),N("div",{className:"mt-6 flex justify-end",children:[m(Tt,{onClick:v,children:"Cancel"}),m(pe,{className:"ml-3",processing:l,children:"Delete Account"})]})]})})]})}export{kt as default};
